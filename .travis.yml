language: node_js
version: 1.0
node_js:
  - 12.18.3
cache: yarn
jobs:
  include:
    - stage: npm-bundle
      script: yarn build && npm version $TRAVIS_BRANCH --allow-same-version --allow-empty
      deploy:
        edge: true
        provider: npm
        email: bameyrick@gmail.com
        api_token:
          secure: XZ1q1761D87gQZ//7pAtPExtLRxHNOt8Jjr/CzckXCfQV+v+IOyYhVv0tMU+8vuGdjAHJDc0CinQzY8SnU8TYT6C+/TAvyh4FxmBWHUxfnPVZWeY9y/3txGsCFI2kfEpiYWZtCRAovea7BNSKnYZZAeWT8ukde8u0jFRaGpcne3x9rGm5hKwB4o/OIuihQr+lHNzE5aJIy0EvZG0t5fYwLLgDvUjDXvv4W9OUa5hIBLMxyTxIE40AxZ8MS1uQ246z6IF0lopKeha9OI8gk+cYZ7WUgIQM2txTsUdm+rlHObvWIL5H9EZZd3BV8PpFCrS4PRSIpRaLWdltfJapBDFw/O0F9O+NBumJjrtfAiY/yS+CxxjI1ysX+yBpH2tcOReX1EaF3Oz+k6hav57Uw9nvHcSNESgv6biGSBEL3DznqlCu0cR5x54r+XzS52x2ALpiEFW69uBkrQ/4Pqccu4Ok/QQjWS4I5NOhuYjSeBKcPeyPIJ1Kw9+J8A75xGrxA0kgAZ9QoY4QL16dExGy9EL148v8D2ce+h1N160vgP+5ZWV2nvN1vTFQZwq5TNlHdkRuUh5J+IvQQf/yeKeiAVXO4FSQG+JJPYD1obqpTDjHQzNjk2YA54en9JdnCnzXNCq3gPrTyOW0TBkcF6LRB4vsHWqu7/QEz1JGA3jOlRPs1s=
        on:
          tags: true
stages:
  - name: npm-bundle
    if: tag IS present
